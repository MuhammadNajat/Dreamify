{"version":3,"file":"fetch-flow-dashboard-extensions.js","sourceRoot":"","sources":["../../../../src/cli/services/flow/fetch-flow-dashboard-extensions.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,8BAA8B,EAAC,MAAM,iBAAiB,CAAA;AAE9D,MAAM,CAAC,KAAK,UAAU,4BAA4B,CAAC,EAAC,KAAK,EAAE,MAAM,EAAkC;IACjG,MAAM,uBAAuB,GAAG,MAAM,8BAA8B,CAAC,EAAC,KAAK,EAAE,MAAM,EAAC,CAAC,CAAA;IACrF,MAAM,EAAC,sCAAsC,EAAC,GAAG,uBAAuB,CAAC,GAAG,CAAA;IAC5E,OAAO,sCAAsC,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE;QAC3D,MAAM,MAAM,GAAG,GAAG,CAAC,IAAI,KAAK,wBAAwB,IAAI,GAAG,CAAC,IAAI,KAAK,yBAAyB,CAAA;QAC9F,MAAM,gBAAgB,GAAG,GAAG,CAAC,aAAa,IAAI,GAAG,CAAC,aAAa,CAAC,MAAM,CAAA;QACtE,MAAM,eAAe,GAAG,GAAG,CAAC,YAAY,IAAI,GAAG,CAAC,YAAY,CAAC,MAAM,CAAA;QACnE,OAAO,MAAM,IAAI,CAAC,gBAAgB,IAAI,eAAe,CAAC,CAAA;IACxD,CAAC,CAAC,CAAA;AACJ,CAAC","sourcesContent":["import {fetchAppExtensionRegistrations} from '../dev/fetch.js'\n\nexport async function getActiveDashboardExtensions({token, apiKey}: {token: string; apiKey: string}) {\n  const initialRemoteExtensions = await fetchAppExtensionRegistrations({token, apiKey})\n  const {dashboardManagedExtensionRegistrations} = initialRemoteExtensions.app\n  return dashboardManagedExtensionRegistrations.filter((ext) => {\n    const isFlow = ext.type === 'flow_action_definition' || ext.type === 'flow_trigger_definition'\n    const hasActiveVersion = ext.activeVersion && ext.activeVersion.config\n    const hasDraftVersion = ext.draftVersion && ext.draftVersion.config\n    return isFlow && (hasActiveVersion || hasDraftVersion)\n  })\n}\n"]}