{"version":3,"file":"utils.js","sourceRoot":"","sources":["../../../../src/cli/services/flow/utils.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,QAAQ,EAAC,MAAM,4BAA4B,CAAA;AACnD,OAAO,EAAC,IAAI,EAAE,QAAQ,EAAC,MAAM,0BAA0B,CAAA;AAEvD;;GAEG;AACH,MAAM,CAAC,MAAM,kBAAkB,GAAG,KAAK,EAAE,aAAqB,EAAE,SAA6B,EAAE,EAAE;IAC/F,IAAI,CAAC,SAAS,EAAE;QACd,OAAO,EAAE,CAAA;KACV;IAED,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC,CAAA;IAE3D,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;QACnB,MAAM,IAAI,KAAK,CAAC,sCAAsC,CAAC,CAAA;KACxD;SAAM,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;QAC5B,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAA;KACjD;IAED,OAAO,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAW,CAAC,CAAA;AACpC,CAAC,CAAA","sourcesContent":["import {joinPath} from '@shopify/cli-kit/node/path'\nimport {glob, readFile} from '@shopify/cli-kit/node/fs'\n\n/**\n * Loads the schema from the partner defined file.\n */\nexport const loadSchemaFromPath = async (extensionPath: string, patchPath: string | undefined) => {\n  if (!patchPath) {\n    return ''\n  }\n\n  const path = await glob(joinPath(extensionPath, patchPath))\n\n  if (path.length > 1) {\n    throw new Error('Multiple files found for schema path')\n  } else if (path.length === 0) {\n    throw new Error('No file found for schema path')\n  }\n\n  return readFile(path[0] as string)\n}\n"]}