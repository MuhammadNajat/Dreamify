import { selectOrganizationPrompt, selectAppPrompt } from '../../prompts/dev.js';
import { fetchPartnersSession } from '../context/partner-account-info.js';
import { fetchAppDetailsFromApiKey, fetchOrganizations, fetchOrgAndApps } from '../dev/fetch.js';
export async function selectApp() {
    const partnersSession = await fetchPartnersSession();
    const orgs = await fetchOrganizations(partnersSession);
    const org = await selectOrganizationPrompt(orgs);
    const { apps } = await fetchOrgAndApps(org.id, partnersSession);
    const selectedAppApiKey = await selectAppPrompt(apps, org.id, partnersSession);
    const fullSelectedApp = await fetchAppDetailsFromApiKey(selectedAppApiKey, partnersSession.token);
    return fullSelectedApp;
}
//# sourceMappingURL=select-app.js.map