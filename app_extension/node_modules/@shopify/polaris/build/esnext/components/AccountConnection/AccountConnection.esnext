import React from 'react';
import { useBreakpoints } from '../../utilities/breakpoints.esnext';
import { buttonFrom } from '../Button/utils.esnext';
import { Card } from '../Card/Card.esnext';
import { SettingAction } from '../SettingAction/SettingAction.esnext';
import { InlineStack } from '../InlineStack/InlineStack.esnext';
import { BlockStack } from '../BlockStack/BlockStack.esnext';
import { Avatar } from '../Avatar/Avatar.esnext';
import { Box } from '../Box/Box.esnext';
import { Text } from '../Text/Text.esnext';

function AccountConnection({
  connected = false,
  action,
  avatarUrl,
  accountName = '',
  title,
  details,
  termsOfService
}) {
  const breakpoints = useBreakpoints();
  const initials = accountName ? accountName.split(/\s+/).map(name => name[0]).join('') : undefined;
  const avatarMarkup = connected ? /*#__PURE__*/React.createElement("span", null, /*#__PURE__*/React.createElement(Avatar, {
    accessibilityLabel: "",
    name: accountName,
    initials: initials,
    source: avatarUrl
  })) : null;
  const titleContent = title ? title : accountName;
  const titleMarkup = /*#__PURE__*/React.createElement(Text, {
    as: "h2",
    variant: "headingSm"
  }, titleContent);
  const detailsMarkup = details ? /*#__PURE__*/React.createElement(Text, {
    as: "span",
    tone: "subdued"
  }, details) : null;
  const termsOfServiceMarkup = termsOfService ? /*#__PURE__*/React.createElement(Box, {
    paddingBlockStart: breakpoints.mdUp ? '400' : '500'
  }, termsOfService) : null;
  const actionElement = action ? buttonFrom(action, {
    variant: connected ? undefined : 'primary'
  }) : null;
  return /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(SettingAction, {
    action: actionElement
  }, /*#__PURE__*/React.createElement(InlineStack, {
    gap: "400"
  }, avatarMarkup, /*#__PURE__*/React.createElement(BlockStack, {
    gap: "100"
  }, titleMarkup, detailsMarkup))), termsOfServiceMarkup);
}

export { AccountConnection };
